.action-bar-float{position:fixed;left:50%;transform:translate(-50%);bottom:200px;z-index:1000;display:flex;flex-direction:row;align-items:center;justify-content:center;gap:8px;padding:6px 12px;min-height:40px;max-height:44px;background:#e3f2fdfa;border-radius:22px;box-shadow:0 2px 12px #00000040;border:1px solid rgba(33,150,243,.3)}.action-bar-float.hidden{display:none}.action-bar-buttons{display:flex;flex-direction:row;align-items:center;gap:6px;flex-wrap:nowrap}.action-bar-btn{padding:6px 14px;min-height:32px;font-size:14px;font-weight:600;border:none;border-radius:16px;cursor:pointer;white-space:nowrap;transition:transform .15s,box-shadow .15s}.action-bar-btn:hover{transform:translateY(-1px);box-shadow:0 2px 8px #0003}.action-bar-btn:disabled{opacity:.6;cursor:not-allowed}.action-bar-btn.btn-chi{background:linear-gradient(135deg,#4caf50,#45a049);color:#fff}.action-bar-btn.btn-peng{background:linear-gradient(135deg,#ff9800,#f57c00);color:#fff}.action-bar-btn.btn-gang{background:linear-gradient(135deg,#f44336,#d32f2f);color:#fff}.action-bar-btn.btn-hu{background:linear-gradient(135deg,#9c27b0,#7b1fa2);color:#fff;font-weight:700}.action-bar-btn.btn-pass,.action-bar-btn.btn-continue-game{background:linear-gradient(135deg,#9e9e9e,#757575);color:#fff}.action-bar-btn.btn-replace-flower,.action-bar-btn.btn-open-gold{background:linear-gradient(135deg,#2196f3,#1976d2);color:#fff}.hu-result-overlay{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;background:radial-gradient(circle at center,#000000b3,#000000e6 60%);z-index:3000}.hu-result-overlay.visible{display:flex}.hu-card{min-width:260px;max-width:90vw;padding:22px 26px 18px;border-radius:18px;background:radial-gradient(circle at top,#fff8e1,#ffe0b2 40%,#ffcc80);box-shadow:0 0 0 2px #fffc,0 14px 40px #0009;text-align:center;position:relative;overflow:hidden;animation:huCardPop .5s ease-out}.hu-title{font-size:32px;font-weight:900;letter-spacing:4px;color:#d32f2f;text-shadow:0 0 10px rgba(255,255,255,.8),0 0 25px rgba(211,47,47,.9);margin-bottom:8px}.hu-player{font-size:18px;font-weight:700;color:#4e342e;margin-bottom:6px}.hu-type{font-size:20px;font-weight:800;color:#5d4037;margin-bottom:8px}.hu-settlement{font-size:15px;font-weight:700;color:#4e342e;margin-bottom:10px;line-height:1.4;word-break:break-all}.hu-tip{font-size:13px;color:#5d4037;opacity:.85}@keyframes huCardPop{0%{transform:scale(.6) translateY(40px);opacity:0}60%{transform:scale(1.05) translateY(-4px);opacity:1}to{transform:scale(1) translateY(0);opacity:1}}.chi-dialog-overlay{position:fixed;left:0;top:0;width:100%;height:100%;display:none;align-items:center;justify-content:center;z-index:2500;background:radial-gradient(circle at center,#00000073,#000c 60%)}.chi-dialog-overlay.visible{display:flex}.chi-dialog-card{min-width:260px;max-width:90vw;padding:18px 20px 14px;border-radius:16px;background:radial-gradient(circle at top,#fff,#e3f2fd 40%,#bbdefb);box-shadow:0 10px 35px #0009}.chi-dialog-title{font-size:18px;font-weight:800;margin-bottom:10px;color:#1a237e}.chi-options-container{display:flex;flex-direction:column;gap:10px;max-height:50vh;overflow-y:auto}.chi-option-row{display:flex;align-items:center;justify-content:center;gap:4px;cursor:pointer;padding:8px;border-radius:10px;transition:background .2s}.chi-option-row:hover{background:#2196f326}.chi-option-row .tile{width:40px;height:56px;cursor:pointer;margin:0 2px}.chi-option-row .tile.chi-center{border-color:#1976d2;box-shadow:0 0 12px #1976d299}.chi-dialog-actions{margin-top:12px;text-align:right}.continue-prompt-panel{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%);z-index:2000;background:#fffffffa;border:2px solid rgba(0,0,0,.15);border-radius:14px;box-shadow:0 10px 35px #00000059;padding:18px;min-width:280px;max-width:90vw}.continue-prompt-panel.hidden{display:none}.continue-prompt-title{font-size:18px;font-weight:800;margin-bottom:10px;color:#333}.continue-prompt-text{font-size:14px;color:#555;margin-bottom:14px;line-height:1.4}.continue-prompt-scoreboard{font-size:14px;color:#333;margin-bottom:12px;max-height:40vh;overflow:auto}.continue-prompt-buttons{display:flex;gap:10px;justify-content:center}.continue-prompt-waiting{display:none;margin-top:12px;font-size:13px;color:#666;text-align:center}.continue-prompt-waiting.visible{display:block}*{margin:0;padding:0;box-sizing:border-box}body{font-family:Microsoft YaHei,Arial,sans-serif;background:radial-gradient(circle at 20% 50%,rgba(0,100,0,.3) 0%,transparent 50%),radial-gradient(circle at 80% 80%,rgba(0,80,0,.2) 0%,transparent 50%),linear-gradient(135deg,#1a5f1a,#0d3d0d,#1a5f1a);background-size:100% 100%,100% 100%,100% 100%;min-height:100vh;padding:20px;position:relative;overflow-x:hidden}body:before{content:"";position:fixed;top:0;left:0;width:100%;height:100%;background-image:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,0,0,.03) 2px,rgba(0,0,0,.03) 4px),repeating-linear-gradient(90deg,transparent,transparent 2px,rgba(0,0,0,.03) 2px,rgba(0,0,0,.03) 4px);pointer-events:none;z-index:0}#root{position:relative;z-index:1}.container{max-width:1600px;margin:0 auto;background:#fffffff2;border-radius:20px;padding:30px;box-shadow:0 20px 60px #00000080;position:relative;z-index:1}h1{text-align:center;color:#333;margin-bottom:30px;font-size:2.5em}.login-section,.game-section{display:none}.login-section.active,.game-section.active{display:block}.form-group{margin-bottom:20px}.form-group label{display:block;margin-bottom:8px;font-weight:700;color:#555}.form-group input,.form-group button,.form-group button[type=button]{width:100%;padding:12px;font-size:16px;border:2px solid #ddd;border-radius:8px}.form-group input:focus{outline:none;border-color:#667eea}.btn-primary{display:block;width:100%;padding:12px 24px;font-size:18px;border:2px solid transparent;border-radius:8px;background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;cursor:pointer;font-weight:700;margin-top:10px;transition:transform .2s}.btn-primary:hover{transform:translateY(-2px)}.btn-primary:disabled{opacity:.5;cursor:not-allowed}.info-panel{background:#f8f9fa;padding:20px;border-radius:10px;margin-bottom:20px}.info-row{display:flex;justify-content:space-between;margin:10px 0;padding:8px;background:#fff;border-radius:5px}.info-tip{background:#e3f2fd;padding:10px 15px;border-radius:8px;margin-bottom:15px;border-left:4px solid #2196f3;font-size:14px;color:#1976d2}.status{text-align:center;padding:15px;background:#fff3cd;border-radius:10px;margin:20px 0;font-weight:700;font-size:18px}.table-container{position:relative;width:100%;aspect-ratio:4 / 3;max-height:min(70vh,720px);margin:20px 0;background:radial-gradient(ellipse at center,#00960066,#00640099),linear-gradient(135deg,#1a5f1a,#0d3d0d,#1a5f1a);border-radius:20px;padding:15px;box-shadow:inset 0 0 50px #0000004d,0 10px 40px #00000080;overflow:hidden}.table-center{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);width:32%;height:32%;min-width:90px;min-height:90px;max-width:220px;max-height:220px;background:#0003;border-radius:50%;display:flex;align-items:center;justify-content:center;flex-direction:column;z-index:10}.table-center h3{display:none}.discard-pile-center{width:156px;max-width:100%;max-height:100%;overflow:auto;display:flex;flex-wrap:wrap;gap:4px;justify-content:center;align-items:center}.discard-pile-center .tile{width:36px;height:50px;font-size:10px}.gold-tile-on-table{position:absolute;bottom:18%;left:50%;transform:translate(-50%);display:flex;align-items:center;justify-content:center;pointer-events:none}.gold-tile-on-table .tile{width:30px;height:42px}.gold-tile-on-table .tile.gold{border-color:gold;box-shadow:0 3px 6px #00000059,inset 0 1px #ffffffe6;animation:none}.player-position{position:absolute;min-width:120px;padding:8px;background:transparent;border-radius:15px;border:none;box-shadow:none;transition:all .3s ease;max-width:48%}.player-position.active{border:2px solid #667eea;background:#e7f0ff4d;box-shadow:0 0 20px #667eea80;outline:2px solid rgba(102,126,234,.75);outline-offset:2px}.player-position.dealer{border:2px solid #ffd700;background:#ffd7001a;box-shadow:0 0 15px #ffd70066}.player-top{top:12px;left:50%;transform:translate(-50%);text-align:center;display:flex;flex-direction:column;align-items:center}.player-bottom{bottom:12px;left:50%;transform:translate(-50%);text-align:center;min-width:280px}.player-bottom .bottom-hand-melds-row{display:flex;flex-direction:row;align-items:center;justify-content:center;flex-wrap:nowrap;gap:12px;margin-top:6px}.player-bottom .bottom-hand-melds-row .hand-and-flowers,.player-bottom .bottom-hand-melds-row .exposed-melds{margin-top:0}.player-left{left:8px;top:50%;transform:translateY(-50%);text-align:center}.player-right{right:8px;top:50%;transform:translateY(-50%);text-align:center}.player-info{margin-bottom:6px}.player-top .player-info{order:0;margin-bottom:4px}.player-top .exposed-melds{order:1;margin-top:0;margin-bottom:4px}.player-top .hand-and-flowers{order:2;margin-top:2px}.player-top .hand-and-flowers{display:flex;flex-direction:row;align-items:center;justify-content:center;gap:6px}.player-top .hand-and-flowers .player-flowers{margin-left:0}.player-name{font-weight:700;font-size:16px;margin-bottom:4px;color:#fff;text-shadow:2px 2px 4px rgba(0,0,0,.8)}.player-stats{display:none}.player-stats-score{font-size:14px;color:#fffffff2;text-shadow:1px 1px 2px rgba(0,0,0,.8)}.hand-and-flowers{display:flex;flex-direction:row;align-items:center;gap:6px;margin-top:6px}.hand-and-flowers .player-flowers{margin-top:0;margin-left:0}.player-hand{display:inline-flex;gap:1px;justify-content:center;margin-top:0;flex-wrap:nowrap}.player-hand .tile-back{width:22px;height:30px;background:linear-gradient(145deg,#8b4513,#6b3410);border:1px solid #5a2a0a;border-radius:4px;box-shadow:0 1px 2px #0000004d,inset 0 1px #ffffff1a;position:relative}.tile-count-wrapper{position:relative}.tile-count-badge{position:absolute;right:-6px;bottom:-6px;min-width:18px;height:18px;padding:0 5px;border-radius:10px;display:inline-flex;align-items:center;justify-content:center;font-size:12px;line-height:1;font-weight:800;color:#fff;background:#000000e6;border:1px solid rgba(255,255,255,.7);box-shadow:0 2px 6px #00000080;pointer-events:none;z-index:1000}.player-flowers .flower-tile img,.player-hand .tile-back{position:relative;z-index:1}.player-top .player-hand,.player-bottom .player-hand{flex-direction:row}.player-left .player-hand,.player-right .player-hand{display:inline-flex;flex-direction:row;justify-content:center}.exposed-melds{margin-top:4px;display:flex;flex-direction:column;gap:4px;align-items:center}.player-top .exposed-melds,.player-bottom .exposed-melds{flex-direction:row;justify-content:center;gap:28px;flex-wrap:nowrap}.player-left .exposed-melds,.player-right .exposed-melds{flex-direction:column}.meld-group{display:flex;gap:1px;justify-content:center;align-items:center;padding:2px;background:#ffffff59;border-radius:5px;max-width:100%}.meld-group .tile{width:28px;height:38px;font-size:10px;cursor:default}.meld-group.new-action{animation:actionHighlight 1s ease-out}@keyframes actionHighlight{0%{transform:scale(1);box-shadow:0 0 #667eea00}50%{transform:scale(1.1);box-shadow:0 0 20px #667eeacc}to{transform:scale(1);box-shadow:0 0 #667eea00}}.player-flowers{display:inline-flex;gap:3px;justify-content:flex-start;margin-top:0;margin-left:4px;flex-wrap:nowrap;vertical-align:middle}.player-flowers .flower-tile{width:24px;height:34px;font-size:10px}.player-action-badge{position:absolute;left:50%;transform:translate(-50%);bottom:-28px;padding:6px 14px;border-radius:999px;background:#000000d9;color:#fff;font-size:18px;font-weight:700;letter-spacing:1px;box-shadow:0 4px 12px #00000080;pointer-events:none;opacity:0;animation:actionBadgeFade 2s ease-out forwards;z-index:30;white-space:nowrap}@keyframes actionBadgeFade{0%{opacity:0;transform:translate(-50%,10px) scale(.9)}20%{opacity:1;transform:translate(-50%) scale(1)}80%{opacity:1;transform:translate(-50%) scale(1)}to{opacity:0;transform:translate(-50%,-6px) scale(.95)}}.tiles-container{display:flex;flex-wrap:wrap;gap:4px;margin-top:12px;perspective:1000px}.tile{width:48px;height:68px;background:linear-gradient(145deg,#fff,#f5f5f5);border:2px solid #8b4513;border-radius:8px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s cubic-bezier(.4,0,.2,1);position:relative;box-shadow:0 2px 4px #0003,inset 0 1px #fffc;transform-style:preserve-3d;overflow:hidden}.tile img{width:100%;height:100%;object-fit:contain;border-radius:6px;image-rendering:-webkit-optimize-contrast;image-rendering:crisp-edges;display:block}.tile.has-image{font-size:0}.tile.has-image .tile-fallback{display:none!important}.tile:not(.has-image) .tile-fallback{font-size:18px;font-weight:700;color:#333}.tiles-container .tile:hover{transform:none;box-shadow:0 8px 20px #0006,0 0 20px #ffd7004d,inset 0 1px #ffffffe6;z-index:10}.tile.selected{transform:translateY(-20px) rotateX(10deg) scale(1.15);border-color:#ffc107;box-shadow:0 10px 25px #ffc10799,0 0 30px #ffc10766,inset 0 1px #ffffffe6;z-index:20}.tile.gold{border-color:gold;box-shadow:0 4px 12px #ffd70080,0 0 20px #ffd7004d,inset 0 1px #ffffffe6;animation:goldGlow 2s ease-in-out infinite}.tile.just-drawn{outline:2px solid rgba(102,126,234,.9);outline-offset:0;box-shadow:0 4px 12px #667eea59,0 0 16px #667eea40,inset 0 1px #ffffffe6}.tile.gold.just-drawn{outline-color:#00a3ffe6}@keyframes goldGlow{0%,to{box-shadow:0 4px 12px #ffd70080,0 0 20px #ffd7004d,inset 0 1px #ffffffe6}50%{box-shadow:0 4px 12px #ffd700cc,0 0 30px #ffd70099,inset 0 1px #ffffffe6}}.tile.dealing{animation:dealCard .5s ease-out forwards}@keyframes dealCard{0%{transform:translate(-200px) rotateY(180deg) scale(.5);opacity:0}to{transform:translate(0) rotateY(0) scale(1);opacity:1}}.my-hand{background:linear-gradient(135deg,#e8f5e9,#c8e6c9);padding:20px;border-radius:15px;margin-top:16px;border:3px solid #4caf50;box-shadow:0 4px 15px #0003,inset 0 2px 5px #ffffff80}.flower-tile{width:45px;height:63px;background:linear-gradient(145deg,#ffebee,#fce4ec);border:2px solid #e57373;border-radius:6px;display:flex;align-items:center;justify-content:center;font-size:14px;box-shadow:0 2px 4px #00000026;position:relative;overflow:hidden}.flower-tile img{width:100%;height:100%;object-fit:contain;border-radius:4px}.ting-panel{display:none;background:#eef7ff;padding:12px 15px;border-radius:10px;margin:12px 0}.ting-panel.visible{display:block}.ting-content{display:flex;gap:6px;flex-wrap:wrap;align-items:center}.ting-content .tile{cursor:default;width:36px;height:50px;font-size:10px}@keyframes fadeIn{0%{opacity:0;transform:scale(.8)}to{opacity:.9;transform:scale(.9)}}@keyframes selectPulse{0%{transform:translateY(-20px) rotateX(10deg) scale(1.15)}50%{transform:translateY(-25px) rotateX(12deg) scale(1.2)}to{transform:translateY(-20px) rotateX(10deg) scale(1.15)}}@keyframes discardTile{0%{transform:translateY(-20px) rotateX(10deg) scale(1.15);opacity:1}50%{transform:translateY(-40px) rotateX(20deg) scale(1.3) rotate(10deg);opacity:.8}to{transform:translateY(-60px) rotateX(30deg) scale(.8) rotate(20deg);opacity:0}}@media(max-width:768px){body{padding:10px}.container{padding:12px}h1{font-size:1.6em;margin-bottom:16px}.table-container{aspect-ratio:1;max-height:min(55vh,420px);padding:8px;margin:12px 0}.player-position{min-width:72px;padding:4px}.player-top{top:4px}.player-bottom{bottom:4px;min-width:160px}.player-left{left:2px}.player-right{right:2px}.player-name{font-size:11px!important}.player-stats-score{font-size:10px!important}.table-center{width:26%;height:26%;min-width:64px;min-height:64px;max-width:96px;max-height:96px}.discard-pile-center{width:78px}.discard-pile-center .tile{width:18px;height:26px;font-size:6px}.gold-tile-on-table{bottom:22%}.gold-tile-on-table .tile{width:20px;height:28px}.meld-group .tile{width:18px;height:26px;font-size:7px}.player-hand .tile-back{width:16px;height:22px}.player-top .exposed-melds,.player-bottom .exposed-melds{gap:18px}.player-flowers .flower-tile{width:18px;height:26px;font-size:8px}.tile-count-badge{min-width:14px;height:14px;font-size:10px}.my-hand{padding:10px;margin-top:12px}.my-hand h3{font-size:14px}.tiles-container{margin-top:8px;gap:3px}.tiles-container .tile{width:32px;height:45px;font-size:12px}.tile.selected{transform:translateY(-12px) rotateX(8deg) scale(1.1)}.action-bar-float{bottom:140px;padding:5px 10px;min-height:36px;max-height:40px;gap:6px}.action-bar-btn{padding:5px 10px;min-height:28px;font-size:13px}.info-panel{padding:12px}.info-row{padding:6px;font-size:13px}.status{padding:10px;font-size:14px}.player-action-badge{font-size:14px;padding:4px 10px}}@media(max-width:480px){.table-container{max-height:min(50vh,320px)}.player-bottom{min-width:120px}.tiles-container .tile{width:28px;height:40px;font-size:10px}.action-bar-float{left:8px;right:8px;transform:none;width:auto;bottom:120px}}
